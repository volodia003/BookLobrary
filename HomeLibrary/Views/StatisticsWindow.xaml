<Window x:Class="HomeLibrary.Views.StatisticsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:chartingToolkit="clr-namespace:System.Windows.Controls.DataVisualization.Charting;assembly=System.Windows.Controls.DataVisualization.Toolkit"
        Title="Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¸ Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ñ‹"
        Height="700" Width="1100"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="ðŸ“ˆ Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¸ Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ñ‹" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

        <TabControl Grid.Row="1">
            <!-- Ð’ÐºÐ»Ð°Ð´ÐºÐ°: Ð Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð¿Ð¾ Ð¶Ð°Ð½Ñ€Ð°Ð¼ -->
            <TabItem Header="ÐŸÐ¾ Ð¶Ð°Ð½Ñ€Ð°Ð¼">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="Ð Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ Ð¿Ð¾ Ð¶Ð°Ð½Ñ€Ð°Ð¼" 
                               FontSize="18" FontWeight="SemiBold" Margin="0,0,0,15"/>

                    <chartingToolkit:Chart Grid.Row="1" x:Name="GenreChart" 
                                          Title="ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÐºÐ½Ð¸Ð³ Ð¿Ð¾ Ð¶Ð°Ð½Ñ€Ð°Ð¼" 
                                          Background="White">
                        <chartingToolkit:Chart.Series>
                            <chartingToolkit:PieSeries x:Name="GenrePieSeries" 
                                                      IndependentValueBinding="{Binding Key}" 
                                                      DependentValueBinding="{Binding Value}"
                                                      IsSelectionEnabled="True"/>
                        </chartingToolkit:Chart.Series>
                    </chartingToolkit:Chart>
                </Grid>
            </TabItem>

            <!-- Ð’ÐºÐ»Ð°Ð´ÐºÐ°: Ð Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð¿Ð¾ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ð°Ð¼ -->
            <TabItem Header="ÐŸÐ¾ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ð°Ð¼">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="Ð Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð² Ð¿Ð¾ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ð°Ð¼" 
                               FontSize="18" FontWeight="SemiBold" Margin="0,0,0,15"/>

                    <chartingToolkit:Chart Grid.Row="1" x:Name="RatingChart" 
                                          Title="ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð² Ð¿Ð¾ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ð°Ð¼ (1-5 Ð·Ð²ÐµÐ·Ð´)" 
                                          Background="White">
                        <chartingToolkit:Chart.Series>
                            <chartingToolkit:ColumnSeries x:Name="RatingColumnSeries" 
                                                         IndependentValueBinding="{Binding Key}" 
                                                         DependentValueBinding="{Binding Value}"
                                                         IsSelectionEnabled="True"/>
                        </chartingToolkit:Chart.Series>
                    </chartingToolkit:Chart>
                </Grid>
            </TabItem>

            <!-- Ð’ÐºÐ»Ð°Ð´ÐºÐ°: Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ñ‡Ñ‚ÐµÐ½Ð¸Ñ -->
            <TabItem Header="Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ñ‡Ñ‚ÐµÐ½Ð¸Ñ">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ‹Ñ… ÐºÐ½Ð¸Ð³ Ð¿Ð¾ Ð³Ð¾Ð´Ð°Ð¼" 
                               FontSize="18" FontWeight="SemiBold" Margin="0,0,0,15"/>

                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,15">
                        <Button Content="ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ" Style="{StaticResource PrimaryButton}" 
                                Click="RefreshReadingStatsButton_Click" Padding="15,8"/>
                    </StackPanel>

                    <chartingToolkit:Chart Grid.Row="2" x:Name="ReadingChart" 
                                          Title="ÐŸÑ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ½Ð¸Ð³Ð¸ Ð¿Ð¾ Ð³Ð¾Ð´Ð°Ð¼" 
                                          Background="White">
                        <chartingToolkit:Chart.Series>
                            <chartingToolkit:LineSeries x:Name="ReadingLineSeries" 
                                                       IndependentValueBinding="{Binding Key}" 
                                                       DependentValueBinding="{Binding Value}"
                                                       IsSelectionEnabled="True"/>
                        </chartingToolkit:Chart.Series>
                    </chartingToolkit:Chart>
                </Grid>
            </TabItem>

            <!-- Ð’ÐºÐ»Ð°Ð´ÐºÐ°: ÐžÐ±Ñ‰Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° -->
            <TabItem Header="ÐžÐ±Ñ‰Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">
                        <TextBlock Text="ÐžÐ±Ñ‰Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸" 
                                   FontSize="18" FontWeight="SemiBold" Margin="0,0,0,20"/>

                        <Border Background="#E3F2FD" CornerRadius="8" Padding="20" Margin="0,0,0,10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="ðŸ“š Ð’ÑÐµÐ³Ð¾ ÐºÐ½Ð¸Ð³:" 
                                           FontSize="16" Margin="0,5"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" x:Name="TotalBooksText" 
                                           FontSize="16" FontWeight="Bold" Foreground="#1976D2" Margin="0,5"/>

                                <TextBlock Grid.Row="1" Grid.Column="0" Text="âœ Ð’ÑÐµÐ³Ð¾ Ð°Ð²Ñ‚Ð¾Ñ€Ð¾Ð²:" 
                                           FontSize="16" Margin="0,5"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" x:Name="TotalAuthorsText" 
                                           FontSize="16" FontWeight="Bold" Foreground="#1976D2" Margin="0,5"/>

                                <TextBlock Grid.Row="2" Grid.Column="0" Text="ðŸ· Ð’ÑÐµÐ³Ð¾ Ð¶Ð°Ð½Ñ€Ð¾Ð²:" 
                                           FontSize="16" Margin="0,5"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" x:Name="TotalGenresText" 
                                           FontSize="16" FontWeight="Bold" Foreground="#1976D2" Margin="0,5"/>

                                <TextBlock Grid.Row="3" Grid.Column="0" Text="â­ Ð’ÑÐµÐ³Ð¾ Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð²:" 
                                           FontSize="16" Margin="0,5"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" x:Name="TotalReviewsText" 
                                           FontSize="16" FontWeight="Bold" Foreground="#1976D2" Margin="0,5"/>

                                <TextBlock Grid.Row="4" Grid.Column="0" Text="ðŸ“– ÐŸÑ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ‹Ñ… ÐºÐ½Ð¸Ð³:" 
                                           FontSize="16" Margin="0,5"/>
                                <TextBlock Grid.Row="4" Grid.Column="1" x:Name="ReadBooksText" 
                                           FontSize="16" FontWeight="Bold" Foreground="#388E3C" Margin="0,5"/>

                                <TextBlock Grid.Row="5" Grid.Column="0" Text="â­ Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³:" 
                                           FontSize="16" Margin="0,5"/>
                                <TextBlock Grid.Row="5" Grid.Column="1" x:Name="AverageRatingText" 
                                           FontSize="16" FontWeight="Bold" Foreground="#F57C00" Margin="0,5"/>
                            </Grid>
                        </Border>

                        <TextBlock Text="Ð¢Ð¾Ð¿-5 ÑÐ°Ð¼Ñ‹Ñ… Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ñ… Ð¶Ð°Ð½Ñ€Ð¾Ð²" 
                                   FontSize="16" FontWeight="SemiBold" Margin="0,30,0,15"/>
                        
                        <Border Background="White" BorderBrush="#DDD" BorderThickness="1" CornerRadius="8" Padding="15">
                            <StackPanel x:Name="TopGenresPanel"/>
                        </Border>

                        <TextBlock Text="ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ðµ ÐºÐ½Ð¸Ð³Ð¸" 
                                   FontSize="16" FontWeight="SemiBold" Margin="0,30,0,15"/>
                        
                        <Border Background="White" BorderBrush="#DDD" BorderThickness="1" CornerRadius="8" Padding="15">
                            <StackPanel x:Name="RecentBooksPanel"/>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>

        <Button Grid.Row="2" Content="Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ" Style="{StaticResource SecondaryButton}" 
                Click="CloseButton_Click" HorizontalAlignment="Right" Margin="0,15,0,0" Padding="15,8"/>
    </Grid>
</Window>
